{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RequestSignUp } from '../../../model/request-sign-up';\nlet SignUpComponent = class SignUpComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.signupData = {\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: ''\n    };\n    this.usernameError = '';\n    this.emailError = '';\n    this.passwordError = '';\n    this.confirmPasswordError = '';\n    this.errorMessageAr = '';\n    this.errorMessageEn = '';\n    this.errorBackend = false;\n  }\n  resetErrorFields() {\n    this.usernameError = '';\n    this.passwordError = '';\n    this.emailError = '';\n    this.confirmPasswordError = '';\n  }\n  onSubmit() {\n    if (!this.validation(this.signupData.username, this.signupData.email, this.signupData.password, this.signupData.confirmPassword)) {\n      return;\n    }\n    const requestSignupModel = new RequestSignUp(this.signupData.username, this.signupData.email, this.signupData.password);\n    this.authService.signUp(requestSignupModel).subscribe(response => {\n      this.errorBackend = false;\n      this.resetErrorFields();\n      sessionStorage.setItem('account_id', response.data.body.id);\n      sessionStorage.setItem('token', response.data.body.token);\n      sessionStorage.setItem('userName', response.data.body.username);\n      this.router.navigateByUrl('mainpage');\n    }, errors => {\n      this.errorBackend = true;\n      this.resetErrorFields();\n      this.errorMessageAr = errors.error.bundleMessage.message_ar;\n      this.errorMessageEn = errors.error.bundleMessage.message_en;\n    });\n  }\n  validation(username, email, password, confirmPassword) {\n    if (username === '') {\n      this.errorBackend = false;\n      this.usernameError = 'Username is required';\n      return false;\n    }\n    if (email === '') {\n      this.errorBackend = false;\n      this.resetErrorFields();\n      this.emailError = 'Email is required';\n      return false;\n    }\n    if (password === '') {\n      this.errorBackend = false;\n      this.resetErrorFields();\n      this.passwordError = 'Password is required';\n      return false;\n    }\n    if (confirmPassword === '') {\n      this.errorBackend = false;\n      this.resetErrorFields();\n      this.confirmPasswordError = 'Confirm Password is required';\n      return false;\n    }\n    if (confirmPassword !== password) {\n      this.errorBackend = false;\n      this.resetErrorFields();\n      this.confirmPasswordError = 'Confirm Password not match password';\n      return false;\n    }\n    return true;\n  }\n  clear() {\n    this.usernameError = '';\n    this.emailError = '';\n    this.passwordError = '';\n    this.confirmPasswordError = '';\n    this.errorMessageAr = '';\n    this.errorMessageEn = '';\n    this.errorBackend = false;\n  }\n};\nSignUpComponent = __decorate([Component({\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  selector: 'app-sign-up',\n  templateUrl: './sign-up.component.html',\n  styleUrls: ['./sign-up.component.css']\n})], SignUpComponent);\nexport { SignUpComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}