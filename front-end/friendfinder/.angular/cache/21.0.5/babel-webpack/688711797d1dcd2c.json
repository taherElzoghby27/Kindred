{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { RequestSignUp } from '../../../model/request-sign-up';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/auth/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction SignUpComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.usernameError);\n  }\n}\nfunction SignUpComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.emailError);\n  }\n}\nfunction SignUpComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.passwordError);\n  }\n}\nfunction SignUpComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.confirmPasswordError);\n  }\n}\nfunction SignUpComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"span\", 17);\n    i0.ɵɵtext(2, \"\\u26A0\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 18)(4, \"div\", 19);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 20);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessageAr);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessageEn);\n  }\n}\nexport let SignUpComponent = /*#__PURE__*/(() => {\n  class SignUpComponent {\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.signupData = {\n        username: '',\n        email: '',\n        password: '',\n        confirmPassword: ''\n      };\n      this.usernameError = '';\n      this.emailError = '';\n      this.passwordError = '';\n      this.confirmPasswordError = '';\n      this.errorMessageAr = '';\n      this.errorMessageEn = '';\n      this.errorBackend = false;\n    }\n    resetErrorFields() {\n      this.usernameError = '';\n      this.passwordError = '';\n      this.emailError = '';\n      this.confirmPasswordError = '';\n    }\n    onSubmit() {\n      if (!this.validation(this.signupData.username, this.signupData.email, this.signupData.password, this.signupData.confirmPassword)) {\n        return;\n      }\n      const requestSignupModel = new RequestSignUp(this.signupData.username, this.signupData.email, this.signupData.password);\n      this.authService.signUp(requestSignupModel).subscribe({\n        next: response => {\n          this.errorBackend = false;\n          this.resetErrorFields();\n          sessionStorage.setItem('account_id', response.data.body.id);\n          sessionStorage.setItem('token', response.data.body.token);\n          sessionStorage.setItem('userName', response.data.body.username);\n          this.router.navigateByUrl('mainpage');\n        },\n        error: errors => {\n          this.errorBackend = true;\n          this.resetErrorFields();\n          this.errorMessageAr = errors.error.bundleMessage.message_ar;\n          this.errorMessageEn = errors.error.bundleMessage.message_en;\n        }\n      });\n    }\n    validation(username, email, password, confirmPassword) {\n      if (username === '') {\n        this.errorBackend = false;\n        this.usernameError = 'Username is required';\n        return false;\n      }\n      if (email === '') {\n        this.errorBackend = false;\n        this.resetErrorFields();\n        this.emailError = 'Email is required';\n        return false;\n      }\n      if (password === '') {\n        this.errorBackend = false;\n        this.resetErrorFields();\n        this.passwordError = 'Password is required';\n        return false;\n      }\n      if (confirmPassword === '') {\n        this.errorBackend = false;\n        this.resetErrorFields();\n        this.confirmPasswordError = 'Confirm Password is required';\n        return false;\n      }\n      if (confirmPassword !== password) {\n        this.errorBackend = false;\n        this.resetErrorFields();\n        this.confirmPasswordError = 'Confirm Password not match password';\n        return false;\n      }\n      return true;\n    }\n    clear() {\n      this.usernameError = '';\n      this.emailError = '';\n      this.passwordError = '';\n      this.confirmPasswordError = '';\n      this.errorMessageAr = '';\n      this.errorMessageEn = '';\n      this.errorBackend = false;\n    }\n    static {\n      this.ɵfac = function SignUpComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || SignUpComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: SignUpComponent,\n        selectors: [[\"app-sign-up\"]],\n        decls: 31,\n        vars: 9,\n        consts: [[1, \"signup-container\"], [1, \"form-group\"], [\"for\", \"username\"], [\"id\", \"username\", \"name\", \"username\", \"type\", \"text\", \"required\", \"\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"class\", \"error\", 4, \"ngIf\"], [\"for\", \"email\"], [\"id\", \"email\", \"name\", \"email\", \"type\", \"text\", \"required\", \"\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"for\", \"password\"], [\"id\", \"password\", \"name\", \"password\", \"type\", \"password\", \"required\", \"\", \"minlength\", \"6\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"for\", \"confirm_password\"], [\"id\", \"confirm_password\", \"name\", \"confirm_password\", \"type\", \"password\", \"required\", \"\", \"minlength\", \"6\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"type\", \"submit\", 3, \"click\"], [1, \"login-link\"], [\"routerLink\", \"/login\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"error\"], [1, \"error-message\"], [1, \"error-icon\"], [1, \"error-text\"], [1, \"error-ar\"], [1, \"error-en\"]],\n        template: function SignUpComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n            i0.ɵɵtext(2, \"Create Account\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"label\", 2);\n            i0.ɵɵtext(5, \"Username\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"input\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_6_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.signupData.username, $event) || (ctx.signupData.username = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function SignUpComponent_Template_input_input_6_listener() {\n              return ctx.clear();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(7, SignUpComponent_div_7_Template, 2, 1, \"div\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\", 1)(9, \"label\", 5);\n            i0.ɵɵtext(10, \"Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"input\", 6);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_11_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.signupData.email, $event) || (ctx.signupData.email = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function SignUpComponent_Template_input_input_11_listener() {\n              return ctx.clear();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(12, SignUpComponent_div_12_Template, 2, 1, \"div\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"div\", 1)(14, \"label\", 7);\n            i0.ɵɵtext(15, \"Password\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"input\", 8);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_16_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.signupData.password, $event) || (ctx.signupData.password = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function SignUpComponent_Template_input_input_16_listener() {\n              return ctx.clear();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(17, SignUpComponent_div_17_Template, 2, 1, \"div\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"div\", 1)(19, \"label\", 9);\n            i0.ɵɵtext(20, \"Confirm Password\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"input\", 10);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function SignUpComponent_Template_input_ngModelChange_21_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.signupData.confirmPassword, $event) || (ctx.signupData.confirmPassword = $event);\n              return $event;\n            });\n            i0.ɵɵlistener(\"input\", function SignUpComponent_Template_input_input_21_listener() {\n              return ctx.clear();\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(22, SignUpComponent_div_22_Template, 2, 1, \"div\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function SignUpComponent_Template_button_click_23_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵtext(24, \"Sign Up\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"div\", 12)(26, \"span\");\n            i0.ɵɵtext(27, \"Already have an account?\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(28, \"a\", 13);\n            i0.ɵɵtext(29, \"Login\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(30, SignUpComponent_div_30_Template, 8, 2, \"div\", 14);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.signupData.username);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.usernameError !== \"\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.signupData.email);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.emailError !== \"\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.signupData.password);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.passwordError !== \"\");\n            i0.ɵɵadvance(4);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.signupData.confirmPassword);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.confirmPasswordError !== \"\");\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngIf\", ctx.errorBackend);\n          }\n        },\n        dependencies: [CommonModule, i3.NgIf, FormsModule, i4.DefaultValueAccessor, i4.NgControlStatus, i4.RequiredValidator, i4.MinLengthValidator, i4.NgModel, RouterModule, i2.RouterLink],\n        styles: [\"[_nghost-%COMP%]{display:block;min-height:100vh;background:#f0f2f5;padding:48px 16px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.signup-container[_ngcontent-%COMP%]{max-width:432px;margin:48px auto;padding:16px 16px 24px;border-radius:8px;background-color:#fff;box-shadow:0 2px 12px #00000014}h2[_ngcontent-%COMP%]{text-align:center;margin:8px 0 16px;font-weight:700;font-size:1.75rem;color:#1c1e21}.form-group[_ngcontent-%COMP%]{margin-bottom:12px}label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:1rem;color:#606770}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;height:52px;padding:0 14px;font-size:1.05rem;color:#1c1e21;background-color:#fff;border:1px solid #dddfe2;border-radius:6px;box-sizing:border-box;transition:border-color .2s ease}input[type=text][_ngcontent-%COMP%]::placeholder, input[type=password][_ngcontent-%COMP%]::placeholder{color:#8d949e}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#1877f2;outline:none;box-shadow:0 0 0 2px #1877f226}button[_ngcontent-%COMP%]{width:100%;height:52px;margin-top:8px;background-color:#1877f2;color:#fff;font-size:1.15rem;font-weight:700;border:none;border-radius:6px;cursor:pointer;transition:background-color .15s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#166fe5}button[_ngcontent-%COMP%]:disabled{background-color:#e4e6eb;color:#bcc0c4;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:#e41e3f;font-size:.95rem;margin-top:6px}.login-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center;font-size:1rem;color:#1c1e21}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:6px;color:#1877f2;text-decoration:none;font-weight:600}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;background-color:#fff5f6;border:1px solid #f2c2c8;color:#b91c32;padding:12px;border-radius:6px;margin-top:14px}.error-icon[_ngcontent-%COMP%]{margin-right:8px}.error-text[_ngcontent-%COMP%]{flex:1;font-size:1rem}.error-ar[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.error-en[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif}@media(max-width:480px){.signup-container[_ngcontent-%COMP%]{margin:24px auto;padding:12px 12px 20px}}\"]\n      });\n    }\n  }\n  return SignUpComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}